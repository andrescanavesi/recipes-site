<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./WEB-INF/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        <title>#{indexManagedBean.recipeToDisplay.title}</title>
    </ui:define>

    <ui:define name="meta-dynamic">
        <link rel="canonical" href="#{indexManagedBean.baseUrl}receta/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}" />

        <meta name="title" content="#{indexManagedBean.recipeToDisplay.title}"/>
        <meta name="description" content="#{indexManagedBean.recipeToDisplay.descriptionMeta}"/>

        <meta property="og:title" content="#{indexManagedBean.recipeToDisplay.title}" />
        <meta property="og:description" content="#{indexManagedBean.recipeToDisplay.descriptionMeta}" />
        <meta property="og:url" content="#{indexManagedBean.baseUrl}receta/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}" />
        <meta property="article:published_time" content="#{indexManagedBean.recipeToDisplay.createdAtFormatted}" />
        <meta property="article:modified_time" content="#{indexManagedBean.recipeToDisplay.updatedAtFormatted}" />
        <meta property="og:image" content="#{indexManagedBean.recipeToDisplay.featuredFullImageUrl}" />

        <script async="async" defer="true" charset="UTF-8"  type="application/ld+json">
            {
            "@context": "http://schema.org/",
            "@type": "Recipe",
            "name": "#{indexManagedBean.recipeToDisplay.title}",
            "image": [
            "#{indexManagedBean.recipeToDisplay.featuredFullImageUrl}"
            ],
            "datePublished": "#{indexManagedBean.recipeToDisplay.createdAtFormatted}",
            "description": "#{indexManagedBean.recipeToDisplay.descriptionMeta}",
            "keywords": "receta,cocina,comida,facil"
            }
        </script>
    </ui:define>

    <ui:define name="content">

        <h:form id="form">

            <f:metadata>
                <f:viewParam name="id" value="#{indexManagedBean.recipeId}" />
                <f:viewAction action="#{indexManagedBean.loadRecipe}" />
            </f:metadata>
        </h:form>

        <!-- Page Header -->
        <header class="masthead header-recipe">
            <div class="overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="site-heading">
                            <h1>Recetas City</h1>
                            <span class="subheading">Las mejores recetas de cocina</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Recipe Content -->
        <article>
            <div class="container">
                <div class="row mx-auto">
                    <div class="col">
                        <div class="only-desktop">
                            <div class="position-fixed" >
                                <ui:include src="./WEB-INF/banner-fixed-left.xhtml"/>
                            </div>
                        </div>

                    </div>
                    <div class="col-lg-8 col-md-10 ">
                        <div class="row justify-content-md-center ">
                            <div class="post-heading ">
                                <h1> #{indexManagedBean.recipeToDisplay.title}</h1>
                            </div>
                            <img data-src="#{indexManagedBean.recipeToDisplay.featuredFullImageUrl}" class="img-fluid rounded" alt="Imagen receta"/>
                            <p class="lead text-muted">#{indexManagedBean.recipeToDisplay.description}</p>
                        </div>

                        <div class="row">
                            <h4 class="w-100">Ingredientes</h4>
                            <ul>
                                <ui:repeat var="ingredient" value="#{indexManagedBean.recipeToDisplay.ingredientsArray}"  varStatus="dataStatus">
                                    <li>#{ingredient} </li>
                                </ui:repeat>
                            </ul>
                        </div>

                        <div class="row">
                            <h4 class="w-100">Pasos</h4>
                            <ol>
                                <ui:repeat var="step" value="#{indexManagedBean.recipeToDisplay.stepsArray}"  varStatus="dataStatus">
                                    <li>#{step} </li>
                                </ui:repeat>
                            </ol>
                            <ui:include src="./WEB-INF/banner-steps.xhtml"/>
                        </div>

                    </div>
                    <div class="col">
                        <div class="only-desktop">
                            <div class="position-fixed"  >
                                <ui:include src="./WEB-INF/banner-fixed-right.xhtml"/>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <a class="btn"  href="https://www.facebook.com/sharer/sharer.php?u=#{indexManagedBean.baseUrl}receta/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}"
                           target="_blank" rel="noopener"  onclick="gtag('event', 'share_facebook');">
                            <button class="fa fa-facebook btn-facebook custom-btn-social">
                                <span class="pl-2 custom-btn-social-text">Compartir</span>
                            </button>
                        </a>

                        <a class="btn"  href="whatsapp://send?text=#{indexManagedBean.baseUrl}receta/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}?utm_source=share_whatsapp&amp;utm_medium=web"
                           target="_blank" rel="noopener"  onclick="gtag('event', 'share_whatsapp');">
                            <button class="fa fa-whatsapp btn-whatsapp custom-btn-social">
                                <span class="pl-2 custom-btn-social-text">Compartir</span>
                            </button>
                        </a>


                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto text-center">
                        <div class="card w-100 p-5">
                            <a href="https://www.facebook.com/recetascity/?utm_source=recipe_like_image&amp;utm_medium=web">
                                <img src="https://res.cloudinary.com/dniiru5xy/image/upload/c_fill,g_auto/w_300,q_auto,f_auto/facebook-like.jpg" class="img-fluid rounded mx-auto d-block" />
                            </a>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto text-center">
                        <div class="card w-100 p-5 mt-3">
                            <a href="#{indexManagedBean.baseUrl}suscribite?utm_source=button_recipe&amp;utm_medium=web">
                                <img src="https://res.cloudinary.com/dniiru5xy/image/upload/c_fill,g_auto/w_32,q_auto,f_auto/envelope.png" alt="envelope" />
                                Suscribite a nuestro mailing
                            </a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto mt-3">
                        <div class="post-preview">
                            <span class="post-meta">Creada el dia #{indexManagedBean.recipeToDisplay.createdAtFormatted}</span>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <hr/>
        <ui:include src="./WEB-INF/featured-recipes.xhtml"/>
    </ui:define>
</ui:composition>


