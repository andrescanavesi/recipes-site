<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./WEB-INF/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="title">
        <title>#{indexManagedBean.recipeToDisplay.title}</title>
    </ui:define>

    <ui:define name="meta-dynamic">
        <link rel="canonical" href="#{indexManagedBean.baseUrl}recipe/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}" />

        <meta name="title" content="#{indexManagedBean.recipeToDisplay.title}"/>
        <meta name="description" content="#{indexManagedBean.recipeToDisplay.descriptionMeta}"/>

        <meta property="og:title" content="#{indexManagedBean.recipeToDisplay.title}" />
        <meta property="og:description" content="#{indexManagedBean.recipeToDisplay.descriptionMeta}" />
        <meta property="og:url" content="#{indexManagedBean.baseUrl}recipe/#{indexManagedBean.recipeToDisplay.id}/#{indexManagedBean.recipeToDisplay.titleForUrl}" />
        <meta property="article:published_time" content="#{indexManagedBean.recipeToDisplay.createdAtFormatted}" />
        <meta property="article:modified_time" content="#{indexManagedBean.recipeToDisplay.updatedAtFormatted}" />

        <script type="application/ld+json">
            {
            "@context": "http://schema.org/",
            "@type": "Recipe",
            "name": "#{indexManagedBean.recipeToDisplay.title}",
            "image": [
            "#{indexManagedBean.recipeToDisplay.featuredImage}"
            ],
            "datePublished": "#{indexManagedBean.recipeToDisplay.createdAtFormatted}",
            "description": "#{indexManagedBean.recipeToDisplay.descriptionMeta}",
            "keywords": "recipe"
            }
        </script>
    </ui:define>

    <ui:define name="content">

        <h:form id="form">

            <f:metadata>
                <f:viewParam name="id" value="#{indexManagedBean.recipeId}" />
                <f:viewAction action="#{indexManagedBean.loadRecipe}" />
            </f:metadata>




        </h:form>

        <!-- Page Header -->
        <header class="masthead">
            <div class="overlay"></div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="post-heading">

                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Recipe Content -->
        <article>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="post-heading">
                            <h1> #{indexManagedBean.recipeToDisplay.title}</h1>
                        </div>
                    </div>
                </div>

                <div class="row mb-5">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="d-flex">
                            <div class="p-1"><img src="#{indexManagedBean.recipeToDisplay.featuredImage}" class="img-thumbnail rounded" alt="Recipe image"/></div>
                            <div class="p-1">#{indexManagedBean.recipeToDisplay.description}</div>
                        </div>

                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">

                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <div class="row">
                            <div class="col">
                                <h2 class="section-heading">Ingredients</h2>
                                <ul>
                                    <ui:repeat var="ingredient" value="#{indexManagedBean.recipeToDisplay.ingredientsArray}"  varStatus="dataStatus">
                                        <li>#{ingredient} </li>
                                    </ui:repeat>
                                </ul>
                            </div>
                            <div class="col">
                                <div  style="border: 1px solid black; width: 300px; height: 200px">
                                    Banner
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col">
                                <h2 class="section-heading">Steps</h2>
                                <ul>
                                    <ui:repeat var="step" value="#{indexManagedBean.recipeToDisplay.stepsArray}"  varStatus="dataStatus">
                                        <li>#{step} </li>
                                    </ui:repeat>
                                </ul>
                            </div>
                            <div class="col">
                                <div class="mt-3" style="border: 1px solid black; width: 300px; height: 200px">
                                    Banner
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-8 col-md-10 mx-auto">
                        <span class="meta">Posted on #{indexManagedBean.recipeToDisplay.createdAtFormatted}</span>
                    </div>
                </div>
            </div>
        </article>
        <hr/>

        <ui:include src="./WEB-INF/featured-recipes.xhtml"/>
    </ui:define>
</ui:composition>


